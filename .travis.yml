language: python
python:
  - "3.7"

jobs:
  include:
    - stage: build
      script: pip install -r requirements.txt
    - #install node dependencies and try to use webpack to build javascript
      script:
        - npm install
        - npm run build
    - stage: test
      script: #test adam microservice
        - cd micro/adam
        - pytest
        - cd ../..
    - stage: lint
      script: pylint main.py
      script: cd micro/adam && pylint main.py && cd ../..




#before_install:
#  - nvm install node
#  - pyenv install 3.7.0a1

#install:
#  - npm install
#  - pip install -r requirements.txt
